(window.webpackJsonp = window.webpackJsonp || []).push([[0], {
  16(e, t, n) { e.exports = n(45); },
  22(e, t, n) {},
  44(e, t, n) {},
  45(e, t, n) {
    n.r(t); const r = n(0); const a = n.n(r); const c = n(14); const o = n.n(c); const u = (n(22), n(15)); const s = n(1); const i = n.n(s); const l = n(3); const f = n(6); const p = n(4); const m = function (e) { const t = e.setFilter; return a.a.createElement('div', null, a.a.createElement('form', null, a.a.createElement('div', null, 'Rajaa n\xe4ytett\xe4vi\xe4: ', a.a.createElement('input', { onChange(e) { return t(e.target.value); } })))); }; const d = function (e) { const t = e.setNewName; const n = e.newName; const r = e.setNewNumber; const c = e.newNumber; const o = e.addNewPerson; return a.a.createElement('form', null, a.a.createElement('div', null, 'nimi: ', a.a.createElement('input', { onChange(e) { return t(e.target.value); }, value: n })), a.a.createElement('div', null, 'numero: ', a.a.createElement('input', { onChange(e) { return r(e.target.value); }, value: c })), a.a.createElement('div', null, a.a.createElement('button', { onClick: o, type: 'submit' }, 'lis\xe4\xe4'))); }; const v = function (e) { const t = e.persons; const n = e.deletePerson; return a.a.createElement('div', null, t.map((e, t) => a.a.createElement('div', { key: 'person-'.concat(e.id, '-index-').concat(t) }, ''.concat(e.name, ' ').concat(e.number || ''), a.a.createElement('button', { onClick() { return n(e.id); } }, 'Poista')))); }; const b = n(5); const E = n.n(b); const w = ''.concat('https://evening-mountain-35162.herokuapp.com', '/api/persons'); const h = {
      getPersons: (function () { const e = Object(l.a)(i.a.mark(function e() { return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, E.a.get(w).catch(e => console.log('Error GET /persons', e), e.response.data); case 2: return e.abrupt('return', e.sent); case 3: case 'end': return e.stop(); } }, e); })); return function () { return e.apply(this, arguments); }; }()), createPerson: (function () { const e = Object(l.a)(i.a.mark(function e(t) { let n; return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!t) { e.next = 5; break; } return e.next = 3, E.a.post(w, t).catch(e => console.log('Error POST /persons', e), e.response.data); case 3: return n = e.sent, e.abrupt('return', n); case 5: case 'end': return e.stop(); } }, e); })); return function (t) { return e.apply(this, arguments); }; }()), deletePerson: (function () { const e = Object(l.a)(i.a.mark(function e(t) { return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!t) { e.next = 4; break; } return e.next = 3, E.a.delete(''.concat(w, '/').concat(t)).catch(e => console.log('ERROR DELETE /persons'.concat(t), e.response), e.response.data); case 3: return e.abrupt('return', e.sent); case 4: case 'end': return e.stop(); } }, e); })); return function (t) { return e.apply(this, arguments); }; }()), updatePerson: (function () { const e = Object(l.a)(i.a.mark(function e(t) { return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!t) { e.next = 4; break; } return e.next = 3, E.a.put(''.concat(w, '/').concat(t.id), t).catch(e => console.log('ERROR PUT /persons/'.concat(t.id), e), e.response.data); case 3: return e.abrupt('return', e.sent); case 4: case 'end': return e.stop(); } }, e); })); return function (t) { return e.apply(this, arguments); }; }()),
    }; const O = (n(44), function (e) { const t = e.notifications; return a.a.createElement('ul', null, t.map((e, t) => a.a.createElement('li', { key: 'notification-'.concat(e.message, '-').concat(t), className: 'notification-'.concat(e.type) }, e.message))); }); O.ERROR = 'error', O.SUCCESS = 'success'; const j = O; const k = function () {
      const e = Object(r.useState)([]); const t = Object(p.a)(e, 2); const n = t[0]; const c = t[1]; const o = Object(r.useState)(''); const s = Object(p.a)(o, 2); const b = s[0]; const E = s[1]; const w = Object(r.useState)(''); const O = Object(p.a)(w, 2); const k = O[0]; const x = O[1]; const g = Object(r.useState)(''); const R = Object(p.a)(g, 2); const S = R[0]; const P = R[1]; const N = Object(r.useState)([]); const y = Object(p.a)(N, 2); const C = y[0]; const T = y[1]; const U = function () { E(''), x(''); }; const L = function (e, t) { const n = { message: e, type: t }; const r = Object(f.a)(C).concat([n]); T(r), setTimeout(() => { !(function (e) { const t = Object(f.a)(e); t.pop(), T(t); }(r)); }, 3e3); }; const D = (function () { const e = Object(l.a)(i.a.mark(function e() { let t; let n; return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: return e.next = 2, h.getPersons(); case 2: t = e.sent, n = t.data, c(n); case 5: case 'end': return e.stop(); } }, e); })); return function () { return e.apply(this, arguments); }; }()); const F = (function () { const e = Object(l.a)(i.a.mark(function e(t) { let r; let a; let o; let s; let l; let p; let m; return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: if (t.preventDefault(), !(r = n.find(e => e.name === b))) { e.next = 11; break; } if (!window.confirm(''.concat(b, ' on jo luettelossa. Korvataanko vanha numero uudella?'))) { e.next = 9; break; } return a = Object(u.a)({}, r, { number: k }), e.next = 7, h.updatePerson(a); case 7: (o = e.sent).data ? (s = n.map(e => (e.id === a.id ? a : e)), c(s), L(''.concat(a.name, ' p\xe4ivitetty.'), j.SUCCESS), U()) : o.error && L(''.concat(o.error.message), j.ERROR); case 9: e.next = 16; break; case 11: return l = { name: b, number: k }, e.next = 14, h.createPerson(l); case 14: (p = e.sent).data ? ((m = Object(f.a)(n)).push(l), c(m), U(), L('Lis\xe4ttiin '.concat(l.name, '.'), j.SUCCESS)) : p.error && L(''.concat(p.error.message), j.ERROR); case 16: case 'end': return e.stop(); } }, e); })); return function (t) { return e.apply(this, arguments); }; }()); const J = (function () { const e = Object(l.a)(i.a.mark(function e(t) { let r; let a; let o; return i.a.wrap((e) => { for (;;) switch (e.prev = e.next) { case 0: if (r = n.find(e => e.id === t), !window.confirm('Poistetaanko henkil\xf6 '.concat(r.name, '?'))) { e.next = 9; break; } return a = n.filter(e => e.id !== t), c(a), e.next = 6, h.deletePerson(t); case 6: (o = e.sent) && o.status === 200 && L(''.concat(r.name, ' poistettiin.'), j.SUCCESS), o && o.status === 404 && L('Henkil\xf6 '.concat(r.name, ' oli jo poistettu.'), j.ERROR); case 9: case 'end': return e.stop(); } }, e); })); return function (t) { return e.apply(this, arguments); }; }()); Object(r.useEffect)(() => { D(); }, []); const B = S.length > 0 && n.filter(e => e.name.toLowerCase().includes(S.toLowerCase())) || n; return a.a.createElement('div', null, a.a.createElement(j, { notifications: C }), a.a.createElement('h2', null, 'Puhelinluettelo'), a.a.createElement(m, { setFilter: P }), a.a.createElement(d, {
        setNewName: E, newName: b, setNewNumber: x, newNumber: k, addNewPerson: F,
      }), a.a.createElement('h2', null, 'Numerot'), a.a.createElement(v, { deletePerson: J, persons: B }));
    }; o.a.render(a.a.createElement(k, null), document.getElementById('root'));
  },
}, [[16, 1, 2]]]);
// # sourceMappingURL=main.f2873865.chunk.js.map
